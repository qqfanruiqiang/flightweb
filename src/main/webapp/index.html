<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- 上述3个meta标签*必须*放在最前面，任何其他内容都*必须*跟随其后！ -->

    <link href="/commons/bootstrap/css/bootstrap.min.css" rel="stylesheet"/>
    <link href="/commons/datatable/DataTables-1.10.18/css/dataTables.bootstrap.min.css" rel="stylesheet"/>
    <link href="/commons/fileinput/css/fileinput.min.css" rel="stylesheet"/>

    <script type="text/javascript" src="/commons/jquery-3.2.1.js"></script>
    <script type="text/javascript" src="/commons/bootstrap/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="/commons/datatable/DataTables-1.10.18/js/jquery.dataTables.min.js"></script>
    <script type="text/javascript" src="/commons/My97DatePicker/WdatePicker.js"></script>
    <script type="text/javascript" src="/commons/bootbox/bootbox.min.js"></script>
    <script type="text/javascript" src="/commons/fileinput/js/fileinput.min.js"></script>
    <script type="text/javascript" src="/commons/fileinput/js/locales/zh.js"></script>
    <script type="text/javascript" src="/commons/dateFormat.js"></script>
</head>


<body>
<div class="container">
    <div class="panel panel-danger">
        <!-- Default panel contents -->
        <div class="panel-heading">航班列表</div>
        <div class="panel-body">
            <input type="button" onclick="xinzeng()" class="btn btn-success" value="新增航班">
            <table id="empTable" class="table table-bordered table-striped"></table>
        </div>
    </div>
</div>
</body>

<script>
    var empTable = $("#empTable").DataTable({
        "autoWidth": true, //自适应宽度
        "info": true,//展示表格左下角信息,分页栏
        "lengthChange": true,//是否改变每页展示的条数
        "lengthMenu": [2, 5, 10],
        "ordering": true,//是否允许排序
        "searching": false,
        "paging": true,//是否允许开启本地分页
        "processing": true,//是否先处理状态
        "serverSide": true,//true是服务器模式，false是客户端模式
        //如何和后台进行交互并展示
        "ajax": {
            url: "http://localhost:8088/flight/queryFlight",
            type: "post",
            "dataSrc": function (result) {
                return result.data;
            }
        },
        //数据如何展示到表格中
        "columns": [
            {"data": "name", "title": "航班姓名"},
            {"data": "startTimeStr", "title": "起飞时间"},
            {"data": "endTimeStr", "title": "到达时间"},
            {"data": "count", "title": "票数"},
            {"data": "price", "title": "票价"},
            {
                data: "id", "title": "修改", render: function (data, type, row, meta) {
                    return '<button type="button" class="btn btn-danger" onclick="xiugai(' + data + ')">修改</button>';
                }
            },
            {
                data: "id", "title": "删除", render: function (data, type, row, meta) {
                    return '<button type="button" class="btn btn-danger" onclick="shanchu(' + data + ')">删除</button>';
                }
            },
        ],
        "language": {
            "url": "/commons/datatable/Chinese.json"
        }

    })
</script>


</html>
